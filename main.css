/* ==========================================================================
   CBR+PNK — main.css (Orbitron + Barlow Condensed + clean chat cards)
   Drop-in replacement. Fonts are loaded locally from assets/fonts/.
   ========================================================================== */

/* === Local WOFF2 fonts (paths are from repo root) ======================== */
/* Orbitron */
@font-face {
  font-family: "Orbitron";
  src: url("assets/fonts/Orbitron-Regular.woff2") format("woff2");
  font-weight: 400; font-style: normal; font-display: swap;
}
@font-face {
  font-family: "Orbitron";
  src: url("assets/fonts/Orbitron-SemiBold.woff2") format("woff2");
  font-weight: 600; font-style: normal; font-display: swap;
}

/* Barlow Condensed */
@font-face {
  font-family: "Barlow Condensed";
  src: url("assets/fonts/BarlowCondensed-Regular.woff2") format("woff2");
  font-weight: 400; font-style: normal; font-display: swap;
}
@font-face {
  font-family: "Barlow Condensed";
  src: url("assets/fonts/BarlowCondensed-Medium.woff2") format("woff2");
  font-weight: 500; font-style: normal; font-display: swap;
}
@font-face {
  font-family: "Barlow Condensed";
  src: url("assets/fonts/BarlowCondensed-SemiBold.woff2") format("woff2");
  font-weight: 600; font-style: normal; font-display: swap;
}

/* === Design tokens ======================================================= */
:root{
  /* Fonts */
  --cbr-font-display: "Orbitron", "Barlow Condensed", Arial, sans-serif;
  --cbr-font-ui: "Barlow Condensed", Arial, Helvetica, sans-serif;
  --cbr-emoji-fallback: "Noto Color Emoji","Apple Color Emoji","Segoe UI Emoji",
                        "Segoe UI Symbol","Noto Sans Symbols 2";

  /* Type rhythm */
  --cbr-line: 1.25;
  --cbr-letter-tight: 0.02em;

  /* Optional accent colors (adjust to your theme if desired) */
  --cbr-fg: #e6e6e6;
  --cbr-fg-dim: #bdbdbd;
  --cbr-bg: #0f1113;
  --cbr-accent: #4dd0e1;
}

/* === Base / global ======================================================= */
html, body {
  height: 100%;
  background: var(--cbr-bg);
  color: var(--cbr-fg);
  font-family: var(--cbr-font-ui);
  line-height: var(--cbr-line);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* Foundry app content and sheets default to UI font */
.window-app .window-content,
.sheet, .sheet * {
  font-family: var(--cbr-font-ui);
}

/* Headings use the display font */
.window-app .window-content h1,
.window-app .window-content h2,
.window-app .window-content h3,
.cbrpnk-heading, .cbrpnk-label, .cbrpnk-title {
  font-family: var(--cbr-font-display);
  letter-spacing: var(--cbr-letter-tight);
  line-height: 1.1;
  font-weight: 600; /* increase to 700 if you later add a Bold face */
  margin: 0 0 0.35em 0;
}

/* Subtle defaults for paragraphs and small text */
p { margin: 0 0 0.75em 0; }
small, .note { color: var(--cbr-fg-dim); }

/* Links */
a { color: var(--cbr-accent); text-decoration: none; }
a:hover { text-decoration: underline; }

/* Inputs & controls keep UI font */
input, select, textarea, button {
  font-family: var(--cbr-font-ui);
  font-size: 1rem;
  line-height: var(--cbr-line);
}

/* Tables (safe minimal styling) */
table { width: 100%; border-collapse: collapse; }
th, td { padding: 0.4rem 0.5rem; }
th { font-family: var(--cbr-font-display); font-weight: 600; letter-spacing: var(--cbr-letter-tight); }

/* === Chat cards: readable + no funky ligatures =========================== */
/* Important: allow emoji/symbol fallback so ⚡ renders properly */
.chat-message .message-content,
.chat-message .message-content * {
  font-family: var(--cbr-font-ui), var(--cbr-emoji-fallback), sans-serif !important;
  font-variant-ligatures: none !important;
  font-feature-settings: "liga" 0, "clig" 0, "calt" 0, "dlig" 0, "hlig" 0, "salt" 0 !important;
  letter-spacing: normal;
  text-transform: none;
}

/* Optional helper if you wrap the bolt in a span.cbr-bolt */
.cbr-bolt{
  font-family: var(--cbr-emoji-fallback), var(--cbr-font-ui), sans-serif !important;
  font-weight: 600; line-height: 1;
  display: inline-block; margin-right: .25em;
}

/* === Utility classes (non-invasive, safe to keep) ======================== */
.cbrpnk-number { letter-spacing: 0.02em; }
.cbrpnk-mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
.cbrpnk-dim { color: var(--cbr-fg-dim); }
.cbrpnk-accent { color: var(--cbr-accent); }

/* === Minimal card framing (optional; remove if you have your own) ======== */
.cbrpnk-card {
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 8px;
  padding: 0.75rem;
}
.cbrpnk-card h3 { margin-top: 0; }

/* === End ================================================================= */
